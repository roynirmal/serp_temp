<!DOCTYPE html>

<html>

    <head>
        <link rel="stylesheet" href="css/normalize.css" />
        <link rel="stylesheet" href="css/fontawesome.min.css" />
        <link rel="stylesheet" href="css/googlesans.css" />
        <link rel="stylesheet" href="css/layout.css" />
        <link rel="stylesheet" href="css/components.css" />
        <link rel="stylesheet" href="css/grid.css" />
        <link rel="stylesheet" href="css/landing.css" />
        <title>Search Experiment</title>
    </head>

    <body style="background: #f5f5f7;">
        <header>
            <div>
                <img src="img/logo.svg" alt="Search" />
                <!-- <form>
                    <input type="text" name="querybox" value="query goes here" disabled />
                    <button type="submit" disabled><i class="fas fa-search"></i></button>
                </form> -->
                <!-- <ul class="tabs">
                   <li><a href="#" class="selected"><i class="fas fa-search"></i><span>All</span></a></li>
                   <li><a href="#"><i class="fas fa-image"></i><span>Images</span></a></li>
                   <li><a href="#"><i class="fas fa-newspaper"></i><span>News</span></a></li>
                   <li><a href="#"><i class="fas fa-tag"></i><span>Shopping</span></a></li>
                   <li><a href="#"><i class="fas fa-ellipsis-v"></i><span>More</span></a></li>
                </ul> -->
                <ul class="right">
 
                </ul>
            </div>
        </header>

        <main>
            <div>
                <!-- <div class="stats">
                    About 3,200,000,000 results (0.80 seconds)
                </div> -->
                <div class="grid-container">
                        <div>
                                <h2 class="check-list">Welcome to the study!</h2>
                                <ul class="check-list">
                                <li>You will be asked to walk through 12 search scenarios, one after the other. Each will have its own information need.</li>
                                <li>The information need will be present at the top right of the results page.</li>
                                <li>For each information need, other crowdworkers have provided us with the query that they would issue. You will see the query in the search box at the top of the page. </li>
                                <li>For this study, you won't be able to change the query.</li>
                                <li>We will provide you with results from the web (documents, images, videos, etc.) as seen on a typical results page for each query.</li>
                                <li>Your task is to go through the results and find the information pertaining to the given information need.</li>
                                <li>You can open the results (click links) and take as long as you need to find the information. Results will open in a new tab.</li>
                                <li>Once you have <strong>finished reading</strong>, close the tab to return to the results page we provide.</li>
                                <li>Once you are <b>satisfied</b> that you have found enough information click the <strong>Answer</strong> button at the top of the results page. </li>
                                <li>You will be taken to a new page where you type the answer for that particular scenario. Write a short answer (at most 50 words) based on the information you found on the results page.</li>
                                <li>Answers that are not on topic or do not address the information need will be disqualified.</li>
                                <li>Once you have written down the answer, click the <strong>Next Scenario</strong> button to go to the next search scenario.</li>
                                <li>After you have gone through all 12 scenarios, we will take you to an exit survey to complete the study.</li>
                                <li><b> We request you to only use the results we provide. You do not need to issue queries in a separate search engine.</b></li>
                                <li><b>Please avoid the use of your browser's back button as you go through this experiment.</b></li>
                                <li>
                                    <span id="badResolution">BAD RESOLUTION</span>
                                    <span id="goodResolution">GOOD RESOLUTION</span>
                                </li>
                                <li id="ready">When ready, type in your Prolific ID and click Submit to start the study!
                                        <form method="GET" onsubmit="loader(this);" style="margin: 10px;">   
                                            <input type="text" name="prolificID" style="width: 250px; line-height: 28px; padding: 0 5px 0 5px; margin-bottom: 30px;" required />
                                            <input type="submit" value="Submit" style="margin: 1.5rem 0 0 5px; line-height: 28px; padding: 0 5px 0 5px;" />
                                        </form>
                                    </li>
                                </ul>
                        
                        </div>

                    </div> 

        <!-- Include script for scrolling functionality on necessary components -->
        <script type="text/javascript">
            let currentPage="landing"
        </script>
        <script type="text/javascript" src="js/check.js"></script>
        <!-- <script type="text/javascript" src="js/web_scroll.js"></script> -->
        <!-- <script type="text/javascript" src="js/scroll.js"></script> -->
        <script type="text/javascript">
        // window.location.href = 'template.html';
            // document.getElementById("myButton").onclick   = function() {
            function loader(form) {
                var pages = new Array('inf_rem_one','inf_rem_two', 'inf_rem_three', 'inf_und_one', 'inf_und_two', 'inf_und_three', 'inf_an_one', 'inf_an_two', 'inf_an_three', 'nav_one', 'nav_two', 'nav_three');
                localStorage.setItem('pages', JSON.stringify(pages))
                sessionStorage.setItem('prolific-id', form.prolificID.value)
                sessionStorage.setItem('serp', 'grid_serp')
                // var pages = JSON.parse(localStorage.getItem('pages'))
            // // var pages = JSON.parse(localStorage.getItem('pages'))
            // var myarray = new Array('template1.html','template2.html','template3.html', 'template4.html');
                var mynum_index = Math.floor(Math.random() * pages.length);
                // localStorage.setItem('check', mynum_index)
                console.log("LOG", pages[mynum_index] + '/template.html')
                // var p = pages[mynum_index]
                form.action  = pages[mynum_index] + '/template.html'
                sessionStorage.setItem('task', pages[mynum_index])
                pages.splice(mynum_index , 1)
                localStorage.setItem('pages', JSON.stringify(pages))
                // return false;
            }
        </script>
        <script>
            document.addEventListener("DOMContentLoaded", function(){
                let form = document.querySelector('form');
                form.addEventListener('submit', formSubmitCheck);

                resolutionCheck();
                setInterval(resolutionCheck, 500);
            });

            function resolutionCheck() {
                let availHeight = window.screen.availHeight;
                let outerHeight = window.outerHeight;

                let good = document.querySelector('#goodResolution');
                let bad = document.querySelector('#badResolution');
                let readyEl = document.querySelector('#ready');

                if ((availHeight - outerHeight > 10)){
                    bad.style.display = 'inline';
                    good.style.display = 'none';
                    readyEl.style.display = 'none';

                    return false;

                } else {
                    bad.style.display = 'none';
                    good.style.display = 'inline';
                    readyEl.style.display = 'inline';

                    return true;
                }
            }

            function formSubmitCheck(event) {
                if (!resolutionCheck()) {
                    event.preventDefault();
                }
            }
        </script>
    
    </body>

</html>
